# 复合类型

## 数组

数组的声明 typeName arrayName[arraySize];

* arraySize 必须是整型常数或 const 值，也可以是常量表达式
* 即其中所有的值在编译时都是已知的，arraySize 不能是变量
* 编译器不会检查使用的下标是否有效，但无效的赋值可能引发问题

数组的初始化规则

* 只有在定义数组时才能使用初始化
* 也不能将一个数组赋值给另一个数组
* 可以使用下标分别给数组中的元素赋值
* 初始化数组时，提供的值可以少于数组的元素数目

C++ 11 的数组初始化方法

* 初始化数组时，可以省略等号(=)
* 可不在大括号内包含任何东西，这将把所有元素都设置为零
* 列表初始化禁止缩窄转换

## 字符串

C-风格字符串

* C-风格字符串以空字符结尾，空字符被写作 \0，其 ASCII 码为 0

* 使用引号括起的字符串也可以将字符数组初始化为字符串，这种字符串被称为字符串常量(string constant)或字符串字面值(string literal)

* 用引号括起的字符串隐式地包含结尾的空字符

* 用引号括起的字符串实际上表示的是字符串所在的内存地址

* 标准头文件 cstring 提供了 strlen() 以及很多与字符串相关的其他函数的声明

* strlen() 只计算可见的字符，不把空字符计算在内

* cin 使用空白(空格，制表符和换行符)来确定字符串的结束位置，因此 cin 读取字符数组输入时只读取一个单词

面向行的输入 getline() 和 get()

* getline() 通过回车键输入的换行符来确定输入结尾。该函数有两个参数，第一个是数组名，第二个是要读取的字符数

* get() 不再读取并丢弃换行符，而是将其留在输入队列中

* get() 可以拼接使用

  ```cpp
  cin.get(name, arSize).get();
  ```

* 老式实现没有 getline()，另外 get() 使输入更仔细

* 使用 get() 要注意空行问题，混合输入字符串和数字导致问题

## String 类

要使用 string 类，必须在程序中包含头文件 string

* 可以使用 C-风格字符串来初始化 string 对象
* 可以使用 cin 来将键盘输入存储到 string 对象中
* 可以使用 cout 来显示 string 对象
* 可以使用数组表示法来访问存储在 string 对象中的字符

类设计让程序能够自动处理 string 的大小

* 可以将一个 string 对象赋给另一个 string 对象
* 可以使用运算符 + 将两个 string 对象合并起来
* 可以使用运算符 += 将字符串附加到 string 对象的末尾

两种不同风格的字符串确定字符数的方法

```cpp
int len1 = str1.size();    //size()是string类的一个方法
int len2 = strlen(charr1); //strlen()接受C-风格字符串作为参数
```

## 结构（略）

## 共同体(union)

共同体是一种数据格式，它能够存储不同的数据类型，但只能同时存储其中的一种

## 枚举

* 默认情况下，将整数值从0开始按顺序赋值给枚举量
* 对于枚举，只定义了赋值运算符，没有算术运算
* 枚举量是整型，可被提升为 int 类型



